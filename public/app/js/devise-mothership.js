(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-mothership"],{"0e93":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"devise-admin-content"}},[s("action-bar",[s("li",{staticClass:"dvs-btn dvs-btn-sm dvs-mb-2",style:t.theme.actionButton,on:{click:function(e){return e.preventDefault(),t.showCreateForm()}}},[t._v("Create New Release")])]),s("h2",{staticClass:"dvs-mb-10"},[t._v("Releases")]),t._l(t.pushedReleases,function(e){return s("div",{key:e.id,staticClass:"dvs-mb-6 dvs-flex dvs-justify-between dvs-items-center"},[s("div",{staticClass:"dvs-min-w-2/5 dvs-font-bold dvs-pr-8"},[t._v(t._s(e.message))]),s("div",{staticClass:"dvs-min-w-1/5 dvs-text-sm dvs-px-8 dvs-font-mono"},[t._v(t._s(t.trucatedHash(e.commit_hash)))]),s("div",{staticClass:"dvs-w-2/5 dvs-px-8 dvs-flex dvs-justify-end"},[t.releaseWasPulled(e.id)?s("button",{staticClass:"dvs-btn dvs-btn-xs dvs-mr-2",style:t.theme.actionButtonGhost},[t._v("Pulled")]):s("button",{staticClass:"dvs-btn dvs-btn-xs dvs-mr-2",style:t.theme.actionButtonGhost,on:{click:function(s){return t.pullRelease(e.id)}}},[t._v("Pull")])])])}),t.releasesLoaded&&0===t.pushedReleases.length?s("div",[s("p",[t._v("Mothership releases has not been initiated.")]),s("button",{staticClass:"dvs-btn dvs-block dvs-w-full",style:t.theme.actionButton,on:{click:function(e){return e.preventDefault(),t.initiateReleases(!1)}}},[t._v("Initiate Mothership Releases")])]):t._e()],2),s("transition",{attrs:{name:"dvs-fade"}},[s("portal",{attrs:{to:"devise-root"}},[t.showCreate?s("devise-modal",{staticClass:"dvs-z-50",on:{close:function(e){t.showCreate=!1}}},[s("h3",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Create New Release")]),t._l(t.recentUpdates,function(e){return s("div",{key:e.id,staticClass:"dvs-mb-6 dvs-items-center"},[s("div",{staticClass:"dvs-w-full dvs-font-bold dvs-pr-8"},[s("label",[s("input",{attrs:{type:"checkbox"}}),t._v("\n              "+t._s(e.model)+"\n            ")])]),t._l(e.changes,function(e){return s("div",{key:e.id,staticClass:"dvs-w-full dvs-mb-6 dvs-mt-6 dvs-flex dvs-justify-between dvs-items-center"},[s("div",{staticClass:"dvs-min-w-2/5 dvs-font-bold dvs-pr-8"},[t._v(t._s(e.description))]),s("div",{staticClass:"dvs-min-w-1/5 dvs-text-sm dvs-px-8 dvs-font-mono"},[t._v(t._s(e.updated_at))])])})],2)}),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[t._v("Message")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newRelease.message,expression:"newRelease.message"}],attrs:{type:"text",placeholder:"Release Message"},domProps:{value:t.newRelease.message},on:{input:function(e){e.target.composing||t.$set(t.newRelease,"message",e.target.value)}}})]),s("button",{staticClass:"dvs-btn",style:t.theme.actionButton,attrs:{disabled:t.createInvalid},on:{click:t.requestCreateRelease}},[t._v("Create")]),s("button",{staticClass:"dvs-btn",style:t.theme.actionButtonGhost,on:{click:function(e){t.showCreate=!1}}},[t._v("Cancel")])],2):t._e()],1)],1)],1)},n=[],i=s("cebc"),r=s("7f65"),o={name:"MothershipReleases",data:function(){return{showCreate:!1,releasesLoaded:!1,pushedReleases:[],pulledReleases:[],newRelease:{message:null,ids:[]},recentUpdates:[]}},mounted:function(){this.fetchAllReleases()},methods:Object(i["a"])({},Object(r["b"])("devise",["getPushedReleases","getPulledReleases","getPendingChanges","initReleases"]),{fetchAllReleases:function(){var t=this;this.getPulledReleases().then(function(e){t.pulledReleases=e.data,t.getPushedReleases().then(function(e){t.pushedReleases=e.data,t.releasesLoaded=!0})})},initiateReleases:function(t){var e=this;this.initReleases(t).then(function(t){t.hasOwnProperty("response")&&422===t.response.status?e.showForceRequiredMessage():e.fetchAllReleases()})},showForceRequiredMessage:function(){var t=confirm("You have uncommitted changes. Are you sure you want to create a release without committing your source?");t&&this.initiateReleases(!0)},trucatedHash:function(t){return"".concat(t.substring(0,6),"...")},releaseWasPulled:function(t){return this.pulledReleases.indexOf(t)>-1},pullRelease:function(t){console.log("go")},showCreateForm:function(){this.showCreate=!0,this.loadPendingChanges()},loadPendingChanges:function(){var t=this;t.getPendingChanges().then(function(e){t.recentUpdates=e.data.data})},requestCreateRelease:function(){console.log("go")}}),computed:{createInvalid:function(){return null===this.newRelease.message}},components:{ActionBar:function(){return Promise.all([s.e("devise-editors~devise-utilities"),s.e("devise-utilities")]).then(s.bind(null,"1906"))},DeviseModal:function(){return Promise.all([s.e("devise-editors~devise-utilities"),s.e("devise-utilities")]).then(s.bind(null,"308a"))}}},l=o,c=s("0c7c"),d=Object(c["a"])(l,a,n,!1,null,null,null);e["default"]=d.exports},2941:function(t,e,s){"use strict";const a=60,n=60*a,i=24*n,r=7*i,o=1e3,l=a*o,c=n*o,d=i*o,u=r*o,h="millisecond",v="second",m="minute",f="hour",p="day",y="week",g="month",b="quarter",C="year",$="date",_="YYYY-MM-DDTHH:mm:ssZ",D="Invalid Date",w=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,S=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},M=(t,e,s)=>{const a=String(t);return!a||a.length>=e?t:`${Array(e+1-a.length).join(s)}${t}`},x=t=>{const e=Math.abs(t),s=Math.floor(e/60),a=e%60;return`${t<=0?"+":"-"}${M(s,2,"0")}:${M(a,2,"0")}`},O=(t,e)=>{const s=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(s,"months"),n=e-a<0,i=t.clone().add(s+(n?-1:1),"months");return Number(-(s+(e-a)/(n?a-i:i-a))||0)},k=t=>t<0?Math.ceil(t)||0:Math.floor(t),A=t=>{const e={M:g,y:C,w:y,d:p,h:f,m:m,s:v,ms:h};return e[t]||String(t||"").toLowerCase().replace(/s$/,"")},P=t=>void 0===t;var j={padStart:M,padZoneStr:x,monthDiff:O,absFloor:k,prettyUnit:A,isUndefined:P};let H="en";const B={};B[H]=R;const Y=t=>t instanceof z,U=(t,e,s)=>{let a;if(!t)return null;if("string"===typeof t)B[t]&&(a=t),e&&(B[t]=e,a=t);else{const{name:e}=t;B[e]=t,a=e}return s||(H=a),a},I=(t,e)=>{if(Y(t))return t.clone();const s=e?"string"===typeof e?{format:e}:e:{};return s.date=t,new z(s)},L=(t,e)=>I(t,{locale:e.$L}),T=j;T.parseLocale=U,T.isDayjs=Y,T.wrapper=L;const W=t=>{let e;return null===t?new Date(NaN):T.isUndefined(t)?new Date:t instanceof Date?t:"string"===typeof t&&/.*[^Z]$/i.test(t)&&(e=t.match(w))?new Date(e[1],e[2]-1,e[3]||1,e[4]||0,e[5]||0,e[6]||0,e[7]||0):new Date(t)};class z{constructor(t){this.parse(t)}parse(t){this.$d=W(t.date),this.init(t)}init(t){const{$d:e}=this;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds(),this.$L=this.$L||U(t.locale,null,!0)||H}$utils(){return T}isValid(){return!(this.$d.toString()===D)}isSame(t,e){const s=I(t);return this.startOf(e)<=s&&s<=this.endOf(e)}isAfter(t,e){return I(t)<this.startOf(e)}isBefore(t,e){return this.endOf(e)<I(t)}year(){return this.$y}month(){return this.$M}day(){return this.$W}date(){return this.$D}hour(){return this.$H}minute(){return this.$m}second(){return this.$s}millisecond(){return this.$ms}unix(){return Math.floor(this.valueOf()/1e3)}valueOf(){return this.$d.getTime()}startOf(t,e){const s=!!T.isUndefined(e)||e,a=T.prettyUnit(t),n=(t,e)=>{const a=L(new Date(this.$y,e,t),this);return s?a:a.endOf(p)},i=(t,e)=>{const a=[0,0,0,0],n=[23,59,59,999];return L(this.toDate()[t].apply(this.toDate(),(s?a:n).slice(e)),this)};switch(a){case C:return s?n(1,0):n(31,11);case g:return s?n(1,this.$M):n(0,this.$M+1);case y:{const t=this.$locale().weekStart||0;return n(s?this.$D-(this.$W-t):this.$D+(6-(this.$W-t)),this.$M)}case p:case $:return i("setHours",0);case f:return i("setMinutes",1);case m:return i("setSeconds",2);case v:return i("setMilliseconds",3);default:return this.clone()}}endOf(t){return this.startOf(t,!1)}$set(t,e){const s=T.prettyUnit(t),a={[p]:"setDate",[$]:"setDate",[g]:"setMonth",[C]:"setFullYear",[f]:"setHours",[m]:"setMinutes",[v]:"setSeconds",[h]:"setMilliseconds"}[s],n=s===p?this.$D+(e-this.$W):e;return this.$d[a]&&this.$d[a](n),this.init(),this}set(t,e){return this.clone().$set(t,e)}add(t,e){t=Number(t);const s=T.prettyUnit(e),a=(e,s)=>{const a=this.set($,1).set(e,s+t);return a.set($,Math.min(this.$D,a.daysInMonth()))},n=e=>{const s=new Date(this.$d);return s.setDate(s.getDate()+e*t),L(s,this)};if(s===g)return a(g,this.$M);if(s===C)return a(C,this.$y);if(s===p)return n(1);if(s===y)return n(7);const i={[m]:l,[f]:c,[v]:o}[s]||1,r=this.valueOf()+t*i;return L(r,this)}subtract(t,e){return this.add(-1*t,e)}format(t){if(!this.isValid())return D;const e=t||_,s=T.padZoneStr(this.$d.getTimezoneOffset()),a=this.$locale(),{weekdays:n,months:i}=a,r=(t,e,s,a)=>t&&t[e]||s[e].substr(0,a),o=t=>{return 0===this.$H?12:T.padStart(this.$H<13?this.$H:this.$H-12,"hh"===t?2:1,"0")},l={YY:String(this.$y).slice(-2),YYYY:String(this.$y),M:String(this.$M+1),MM:T.padStart(this.$M+1,2,"0"),MMM:r(a.monthsShort,this.$M,i,3),MMMM:i[this.$M],D:String(this.$D),DD:T.padStart(this.$D,2,"0"),d:String(this.$W),dd:r(a.weekdaysMin,this.$W,n,2),ddd:r(a.weekdaysShort,this.$W,n,3),dddd:n[this.$W],H:String(this.$H),HH:T.padStart(this.$H,2,"0"),h:o("h"),hh:o("hh"),a:this.$H<12?"am":"pm",A:this.$H<12?"AM":"PM",m:String(this.$m),mm:T.padStart(this.$m,2,"0"),s:String(this.$s),ss:T.padStart(this.$s,2,"0"),SSS:T.padStart(this.$ms,3,"0"),Z:s};return e.replace(S,t=>{return t.indexOf("[")>-1?t.replace(/\[|\]/g,""):l[t]||s.replace(":","")})}utcOffset(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)}diff(t,e,s){const a=T.prettyUnit(e),n=I(t),i=(n.utcOffset()-this.utcOffset())*l,r=this-n;let h=T.monthDiff(this,n);return h={[C]:h/12,[g]:h,[b]:h/3,[y]:(r-i)/u,[p]:(r-i)/d,[f]:r/c,[m]:r/l,[v]:r/o}[a]||r,s?h:T.absFloor(h)}daysInMonth(){return this.endOf(g).$D}$locale(){return B[this.$L]}locale(t,e){const s=this.clone();return s.$L=U(t,e,!0),s}clone(){return L(this.toDate(),this)}toDate(){return new Date(this.$d)}toArray(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]}toJSON(){return this.toISOString()}toISOString(){return this.$d.toISOString()}toObject(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}}toString(){return this.$d.toUTCString()}}I.prototype=z.prototype,I.extend=((t,e)=>{return t(e,z,I),I}),I.locale=U,I.isDayjs=Y,I.unix=(t=>I(1e3*t)),I.en=B[H];e["a"]=I},"31c1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dvs-p-8"},[s("h3",{staticClass:"mb-6"},[t._v("Mothership")]),s("div",{attrs:{id:"devise-admin-content"}},[t._v("\n        It's time to make some changes\n    ")])])}],i=s("cebc"),r=s("7f65"),o={name:"MothershipChanges",data:function(){return{analytics:null,minimized:!1,localValue:null}},mounted:function(){this.retrieveChanges()},methods:Object(i["a"])({},Object(r["b"])("devise",["getPendingChanges"]),{retrieveChanges:function(){var t=this;this.getPendingChanges().then(function(e){t.$set(t,"localValue",e.data)})}}),computed:Object(i["a"])({},Object(r["c"])("devise",["changes"]))},l=o,c=s("0c7c"),d=Object(c["a"])(l,a,n,!1,null,null,null);e["default"]=d.exports},"3c3a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dvs-p-8"},[s("h3",{staticClass:"mb-6",style:{color:t.theme.panel.color}},[t._v("Mothership")]),s("ul",{staticClass:"dvs-list-reset dvs-mt-8"},[s("li",{staticClass:"dvs-cursor-pointer dvs-mb-6 dvs-text-sm uppercase font-bold",on:{click:function(e){return t.goToPage("devise-ms-analytics-index")}}},[t._v("\n            Analytics\n        ")]),s("li",{staticClass:"dvs-cursor-pointer dvs-mb-6 dvs-text-sm uppercase font-bold",on:{click:function(e){return e.preventDefault(),t.goToPage("devise-ms-releases-index")}}},[t._v("\n            Releases\n        ")]),s("li",{staticClass:"dvs-cursor-pointer dvs-mb-6 dvs-text-sm uppercase font-bold",on:{click:function(e){return e.preventDefault(),t.goToPage("devise-ms-healthreports-index")}}},[t._v("\n            Health Report\n        ")]),s("li",{staticClass:"dvs-cursor-pointer dvs-mb-6 dvs-text-sm uppercase font-bold",on:{click:function(e){return e.preventDefault(),t.goToPage("devise-ms-backups-index")}}},[t._v("\n            Backups\n        ")])])])},n=[],i={name:"MothershipIndex"},r=i,o=s("0c7c"),l=Object(o["a"])(r,a,n,!1,null,null,null);e["default"]=l.exports},"821b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"dvs-relative dvs-full",attrs:{id:"devise-admin-content"}},[null!==t.site?s("div",{staticClass:"dvs-p-8"},[s("h2",{staticClass:"dvs-mb-8",style:{color:t.theme.panel.color}},[t._v(t._s(t.site.name)+" Analytics")]),s("div",{staticClass:"dvs-flex dvs-mb-8"},[s("fieldset",{staticClass:"dvs-fieldset mr-8"},[s("label",[t._v("Analytics Start Date")]),s("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"Start Date"},on:{update:function(e){return t.retrieveAnalytics()}},model:{value:t.analyticsDateRange.start,callback:function(e){t.$set(t.analyticsDateRange,"start",e)},expression:"analyticsDateRange.start"}})],1),s("fieldset",{staticClass:"dvs-fieldset"},[s("label",[t._v("Analytics End Date")]),s("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"End Date"},on:{update:function(e){return t.retrieveAnalytics()}},model:{value:t.analyticsDateRange.end,callback:function(e){t.$set(t.analyticsDateRange,"end",e)},expression:"analyticsDateRange.end"}})],1)]),null!==t.analytics?[s("div",{staticClass:"dvs-flex dvs-justify-between dvs-text-center dvs-text-xs dvs-mb-8"},[s("div",{staticClass:"dvs-rounded-sm dvs-p-4 dvs-w-1/5",style:t.theme.actionButton},[s("h2",{staticClass:"dvs-font-bold",style:{color:t.theme.actionButton.color}},[t._v(t._s(t.analytics["usage-totals"].Users))]),s("strong",{staticClass:"dvs-uppercase"},[t._v("Users")])]),s("div",{staticClass:"dvs-rounded-sm dvs-p-4 dvs-w-1/5",style:t.theme.actionButton},[s("h2",{style:{color:t.theme.actionButton.color}},[t._v(t._s(t.analytics["usage-totals"].Sessions))]),s("strong",{staticClass:"dvs-uppercase"},[t._v("Sessions")])]),s("div",{staticClass:"dvs-rounded-sm dvs-p-4 dvs-w-1/5",style:t.theme.actionButton},[s("h2",{style:{color:t.theme.actionButton.color}},[t._v(t._s(t.analytics["usage-totals"]["Page Views"]))]),s("strong",{staticClass:"dvs-uppercase"},[t._v("Page Views")])]),s("div",{staticClass:"dvs-rounded-sm dvs-p-4 dvs-w-1/5",style:t.theme.actionButton},[s("h2",{style:{color:t.theme.actionButton.color}},[t._v(t._s(t.analytics["usage-totals"]["Bounce Rate"]))]),s("strong",{staticClass:"dvs-uppercase"},[t._v("Bounce Rate")])])]),s("div",{staticClass:"dvs-flex dvs-flex-col lg:dvs-flex-row dvs-mb-8"},[s("div",{staticClass:"lg:dvs-w-1/2 lg:dvs-pr-10"},[s("div",{staticClass:"dvs-mb-16"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("How are site sessions trending?")]),s("line-chart",{staticClass:"dvs-mb-8",attrs:{"chart-data":t.analytics.sessions,options:t.options}})],1),s("div",{staticClass:"dvs-mb-16"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Channels")]),s("div",[s("bar-chart",{staticClass:"dvs-mb-8",attrs:{"chart-data":t.analytics.channels,options:t.barOptions}})],1)]),s("div",{staticClass:"dvs-mb-8"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Channels")]),s("div",[s("pie-chart",{staticClass:"dvs-mb-8",attrs:{"chart-data":t.analytics.browser,options:t.pieOptions}})],1)])]),s("div",{staticClass:"lg:dvs-w-1/2 dvs-p-8 dvs-rounded dvs-shadow-lg",style:t.theme.panelCard},[s("div",{staticClass:"dvs-mb-8"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("What are the top countries by sessions?")]),s("simple-table",{staticClass:"dvs-w-full",attrs:{data:t.analytics.countries,columns:[{name:"Country"},{name:"Sessions",property:"Sessions"}]}})],1),s("div",{staticClass:"dvs-mb-8"},[s("simple-table",{staticClass:"dvs-w-full",attrs:{data:t.analytics.regions,columns:[{name:"Region"},{name:"Sessions",property:"Sessions"}]}})],1)])]),s("div",{staticClass:"dvs-mb-8"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Acquisition Sources")]),s("simple-table",{staticClass:"dvs-w-full",attrs:{data:t.analytics["sources-sessions-pageviews"],columns:[{name:"Acquisition Source"},{name:"Sessions",property:"Sessions"},{name:"Pages / Sessions",property:"Pages Per Session"}]}})],1),s("div",{staticClass:"dvs-mb-8"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Date Searched")]),s("simple-table",{staticClass:"dvs-w-full",attrs:{data:t.analytics["date-searched"],columns:[{name:"Date Searched"},{name:"Sessions",property:"Sessions"}]}})],1),s("div",{staticClass:"dvs-mb-8"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Landing Page")]),s("simple-table",{staticClass:"dvs-w-full",attrs:{data:t.analytics["landing-page"],columns:[{name:"Page"},{name:"Sessions",property:"Sessions"}]}})],1),s("div",{staticClass:"dvs-mb-8"},[s("h4",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("Devices")]),s("simple-table",{staticClass:"dvs-w-full",attrs:{data:t.analytics["devices"],columns:[{name:"Date Searched"},{name:"Sessions",property:"Sessions"}]}})],1)]:t._e()],2):s("div",{staticClass:"dvs-p-8"},[s("h2",{staticClass:"dvs-mb-4",style:{color:t.theme.panel.color}},[t._v("To get started select a Site")]),s("fieldset",{staticClass:"dvs-fieldset"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.site,expression:"site"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.site=e.target.multiple?s:s[0]},function(e){return t.retrieveAnalytics()}]}},[s("option",{domProps:{value:null}},[t._v("Select a site")]),t._l(t.sites.data,function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])})],2)])])])])},n=[],i=s("cebc"),r=s("7f65"),o=s("8372"),l={name:"MothershipAnalytics",data:function(){return{analytics:null,site:null,analyticsDateRange:{start:null,end:null}}},mounted:function(){this.setDefaultAnalytics()},methods:Object(i["a"])({},Object(r["b"])("devise",["getSiteAnalytics"]),{setDefaultAnalytics:function(){var t=new Date,e=new Date;e.setDate(e.getDate()-7),this.analyticsDateRange.start=this.formatDate(e),this.analyticsDateRange.end=this.formatDate(t)},formatColors:function(t){if(t.fontColor=this.theme.panel.color,"undefined"!==typeof this.theme.chartColor1){t.borderColor=[],t.backgroundColor=[],t.pointBackgroundColor=this.theme.chartColor1.color,t.pointBorderColor=this.theme.chartColor1.color;for(var e=1;e<7;e+=1)"undefined"!==typeof this.theme["chartColor".concat(e)]&&(t.borderColor[e]=this.theme["chartColor".concat(e)].color,t.backgroundColor[e]=this.theme["chartColor".concat(e)].color)}else t.borderColor=this.theme.panel.color,t.backgroundColor=this.theme.statsLeft.color,t.pointBackgroundColor=this.theme.statsRight.color,t.pointBorderColor=this.theme.statsRight.color;return t.pointRadius=4,t.pointHoverRadius=4,t.fill=!1,t},retrieveAnalytics:function(){var t=this,e=this;this.mothershipApiKey&&("string"!==typeof this.analyticsDateRange.start&&this.analyticsDateRange.start[0]&&(this.analyticsDateRange.start=this.formatDate(new Date(this.analyticsDateRange.start[0]))),"string"!==typeof this.analyticsDateRange.end&&this.analyticsDateRange.end[0]&&(this.analyticsDateRange.end=this.formatDate(new Date(this.analyticsDateRange.end[0]))),this.getSiteAnalytics({site:this.site.id,dates:this.analyticsDateRange}).then(function(s){for(var a in s.data.sessions.datasets.map(function(t,s){return e.formatColors(t,s)}),s.data.channels.datasets.map(function(t,s){return e.formatColors(t,s)}),s.data.browser.datasets.map(function(t,s){return e.formatColors(t,s)}),s.data["date-searched"])s.data["date-searched"].hasOwnProperty(a)&&(s.data["date-searched"][t.formatDate(a)]=s.data["date-searched"][a],delete s.data["date-searched"][a]);e.$set(e,"analytics",s.data)}))}}),computed:Object(i["a"])({},Object(r["c"])("devise",["mothership","mothershipApiKey","sites"]),{options:function(){return{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontColor:this.theme.panel.color,fontSize:14}},scales:{yAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}],xAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}]}}},barOptions:function(){return{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontColor:this.theme.panel.color,fontSize:14}},scales:{yAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}],xAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}]}}},pieOptions:function(){return{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontColor:this.theme.panel.color,fontSize:14}}}}}),components:{BarChart:function(){return s.e("devise-charts").then(s.bind(null,"4d1a"))},PieChart:function(){return s.e("devise-charts").then(s.bind(null,"1a74"))},LineChart:function(){return s.e("devise-charts").then(s.bind(null,"8038"))},DatePicker:function(){return Promise.all([s.e("devise-editors~devise-utilities"),s.e("devise-utilities")]).then(s.bind(null,"7b28"))},SimpleTable:function(){return s.e("devise-tables").then(s.bind(null,"f469"))}},mixins:[o["a"]]},c=l,d=s("0c7c"),u=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=u.exports},8372:function(t,e,s){"use strict";var a=s("2941");e["a"]={methods:{formatDate:function(t){return Object(a["a"])(t).format("YYYY-MM-DD")}}}},"905f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dvs-flex dvs-justify-end dvs-items-stretch dvs-min-h-screen dvs-relative"},[s("div",{attrs:{id:"devise-admin-content"}},[t._v("It's time to back up!")])])}],i={name:"MothershipBackups"},r=i,o=s("0c7c"),l=Object(o["a"])(r,a,n,!1,null,null,null);e["default"]=l.exports},fb7a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dvs-flex dvs-justify-end dvs-items-stretch dvs-min-h-screen dvs-relative"},[s("div",{attrs:{id:"devise-admin-content"}},[t._v("It's time to health report!")])])}],i={name:"MothershipHealthReports"},r=i,o=s("0c7c"),l=Object(o["a"])(r,a,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=devise-mothership.js.map