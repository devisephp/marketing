(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-pages"],{"0315":function(e,t,a){"use strict";t["a"]={methods:{historyBack:function(){this.$router.go(-1)}}}},"0a6b":function(e,t){e.exports=function(e,t){var a=null;return function(){clearTimeout(a);var s=arguments,n=this;a=setTimeout(function(){e.apply(n,s)},t)}}},1915:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.localValue.id?a("div",{attrs:{id:"devise-admin-content"}},[a("div",{style:{borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background},attrs:{id:"dvs-admin-sidebar"}},[a("button",{staticClass:"dvs-btn dvs-btn-zero dvs-btn-text dvs-mb-8",style:{color:e.theme.actionButtonGhost.color},on:{click:e.historyBack}},[e._v("Back")]),a("h6",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Actions")]),a("ul",[a("li",[a("a",{style:{color:e.theme.panel.color},attrs:{href:e.localValue.slug}},[e._v("Go To Page")])]),a("li",{staticClass:"cursor-pointer",on:{click:function(t){e.showTranslate=!0}}},[e._v("Translate This Page")]),a("li",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeletePage,message:"Are you sure you want to delete this page?"},expression:"{callback: requestDeletePage, message: 'Are you sure you want to delete this page?'}"}],staticClass:"cursor-pointer"},[e._v("Delete This Page")])]),a("h6",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Sections")]),a("ul",{staticClass:"dvs-list-reset dvs-mb-10 dvs-text-sm dvs-font-thin"},[a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#versions"}},[e._v("Versions of this Page")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#settings"}},[e._v("Global Page Settings")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#meta-tags"}},[e._v("Meta Tags")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#header-footer"}},[e._v("Header / Footer")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#middleware"}},[e._v("Middleware")])])])]),a("div",{attrs:{id:"dvs-admin-main"}},[a("h1",{staticClass:"dvs-mb-8 dvs-font-hairline",style:{color:e.theme.panel.color}},[e._v(e._s(e.localValue.title))]),e.analytics.data?[a("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color}},[e._v(e._s(e.localValue.title)+" Analytics")]),a("div",{staticClass:"flex dvs-mb-8"},[a("fieldset",{staticClass:"dvs-fieldset mr-8"},[a("label",[e._v("Analytics Start Date")]),a("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"Start Date"},on:{update:function(t){return e.retrieveAnalytics()}},model:{value:e.analyticsDateRange.start,callback:function(t){e.$set(e.analyticsDateRange,"start",t)},expression:"analyticsDateRange.start"}})],1),a("fieldset",{staticClass:"dvs-fieldset"},[a("label",[e._v("Analytics End Date")]),a("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"End Date"},on:{update:function(t){return e.retrieveAnalytics()}},model:{value:e.analyticsDateRange.end,callback:function(t){e.$set(e.analyticsDateRange,"end",t)},expression:"analyticsDateRange.end"}})],1)]),e.mothershipApiKey?a("div",{staticClass:"dvs-mb-12"},[a("line-chart",{staticClass:"dvs-mb-8",attrs:{"chart-data":e.analytics.data,options:e.options,width:800,height:200}})],1):e._e()]:e._e(),a("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color},attrs:{id:"versions"}},[e._v(e._s(e.localValue.title)+" Page Versions")]),a("help",{staticClass:"dvs-mb-8"},[e._v("Page versions allow your team to create alternate versions of a page for devlopment, historical purposes, and for A/B testing which allow you to run two pages at once to test user success rates")]),a("div",{staticClass:"dvs-mb-16"},e._l(e.localValue.versions,function(t,s){return a("div",{key:s,staticClass:"dvs-flex-grow dvs-rounded-sm dvs-shadow-sm dvs-mb-4"},[a("div",{staticClass:"dvs-text-xl dvs-font-bold dvs-mb-4 dvs-flex dvs-justify-between"},[a("div",{staticClass:"dvs-cursor-pointer dvs-flex",on:{click:function(a){return e.toggleVersionSettings(t)}}},[t.editName?e._e():[a("div",{staticClass:"dvs-mr-2"},[a("edit-icon",{attrs:{w:"25",h:"25"}})],1),a("div",[e._v("\n                  "+e._s(t.name)+"\n                  "),t.is_live?[e._v("(Currently Live)")]:e._e()],2)]],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSettings,expression:"version.showSettings"}],staticClass:"dvs-mb-16"},[a("div",[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Version Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.versions[s].name,expression:"localValue.versions[key].name"}],attrs:{type:"text"},domProps:{value:e.localValue.versions[s].name},on:{input:function(t){t.target.composing||e.$set(e.localValue.versions[s],"name",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Layout")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.localValue.versions[s].layout,expression:"localValue.versions[key].layout"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localValue.versions[s],"layout",t.target.multiple?a:a[0])}}},e._l(e.layouts,function(t,s){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(s))])}),0)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Start Date")]),a("date-picker",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{settings:{date:!0,time:!0},placeholder:"Start Date",title:"The date in which this version will begin appearing."},model:{value:e.localValue.versions[s].starts_at,callback:function(t){e.$set(e.localValue.versions[s],"starts_at",t)},expression:"localValue.versions[key].starts_at"}})],1),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("End Date")]),a("date-picker",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{settings:{date:!0,time:!0},placeholder:"End Date",title:"The date when this page version will stop appearing. This page will either fall back to another page version or produce a 404: Page Not Found if a user attempts to load it."},model:{value:e.localValue.versions[s].ends_at,callback:function(t){e.$set(e.localValue.versions[s],"ends_at",t)},expression:"localValue.versions[key].ends_at"}})],1),e.localValue.ab_testing_enabled?a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("A/B Testing Amount")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localValue.versions[s].ab_testing_amount,expression:"localValue.versions[key].ab_testing_amount",modifiers:{number:!0}},{name:"tippy",rawName:"v-tippy"}],attrs:{type:"number",title:"This is the weight in which a page will show up. The number can be any number you want and is divided by the total weights of all other page versions."},domProps:{value:e.localValue.versions[s].ab_testing_amount},on:{input:function(t){t.target.composing||e.$set(e.localValue.versions[s],"ab_testing_amount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()]),a("div",{staticClass:"dvs-flex dvs-justify-start"},[a("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dvs-btn dvs-mr-4 dvs-px-8",style:e.theme.actionButton,attrs:{title:"Save Version Settings"},on:{click:function(a){return e.requestSaveVersion(t)}}},[a("checkmark-icon",{attrs:{w:"30",h:"30"}})],1),a("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dvs-btn dvs-mr-4 dvs-px-8",style:e.theme.actionButtonGhost,attrs:{title:"Copy Version"},on:{click:function(a){return e.requestCopyVersion(t)}}},[a("copy-icon",{attrs:{w:"30",h:"30"}})],1),a("button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeleteVersion,arguments:t,message:"Are you sure you want to delete this version?"},expression:"{callback: requestDeleteVersion, arguments:version, message: 'Are you sure you want to delete this version?'}"}],staticClass:"dvs-btn dvs-mr-2 dvs-px-8",style:e.theme.actionButtonGhost},[a("trash-icon",{attrs:{w:"30",h:"30"}})],1)])])])}),0),a("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color},attrs:{id:"settings"}},[e._v("Global Page Settings")]),a("help",{staticClass:"dvs-mb-8"},[e._v("These settings effect all of the page versions of this page.")]),a("div",{staticClass:"dvs-mb-12"},[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.title,expression:"localValue.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.localValue.title},on:{input:function(t){t.target.composing||e.$set(e.localValue,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.slug,expression:"localValue.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.localValue.slug},on:{input:function(t){t.target.composing||e.$set(e.localValue,"slug",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Meta Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.meta_title,expression:"localValue.meta_title"}],attrs:{type:"text",placeholder:"Meta title of the Page"},domProps:{value:e.localValue.meta_title},on:{input:function(t){t.target.composing||e.$set(e.localValue,"meta_title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Canonical")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.canonical,expression:"localValue.canonical"}],attrs:{type:"text",placeholder:"Canonical"},domProps:{value:e.localValue.canonical},on:{input:function(t){t.target.composing||e.$set(e.localValue,"canonical",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("A/B Testing Enabled")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.ab_testing_enabled,expression:"localValue.ab_testing_enabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.localValue.ab_testing_enabled)?e._i(e.localValue.ab_testing_enabled,null)>-1:e.localValue.ab_testing_enabled},on:{change:function(t){var a=e.localValue.ab_testing_enabled,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&e.$set(e.localValue,"ab_testing_enabled",a.concat([i])):l>-1&&e.$set(e.localValue,"ab_testing_enabled",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.localValue,"ab_testing_enabled",n)}}})]),a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color},attrs:{id:"meta-tags"}},[e._v("Page Specific Meta Tags")]),a("fieldset",{staticClass:"dvs-fieldset"},[a("meta-form",{attrs:{"global-form":!1},on:{"request-create-meta":e.requestCreateMeta,"request-update-meta":e.requestUpdateMeta,"request-delete-meta":e.requestDeleteMeta},model:{value:e.localValue.meta,callback:function(t){e.$set(e.localValue,"meta",t)},expression:"localValue.meta"}})],1),a("div",{staticClass:"dvs-mb-10",attrs:{id:"header-footer"}},[a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Header / Footer Content")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Head")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.localValue.head,expression:"localValue.head"}],staticClass:"dvs-w-1/2",domProps:{value:e.localValue.head},on:{input:function(t){t.target.composing||e.$set(e.localValue,"head",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset"},[a("label",[e._v("Footer")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.localValue.footer,expression:"localValue.footer"}],staticClass:"dvs-w-1/2",domProps:{value:e.localValue.footer},on:{input:function(t){t.target.composing||e.$set(e.localValue,"footer",t.target.value)}}})])]),a("div",{staticClass:"dvs-mb-10",attrs:{id:"middleware"}},[a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Middleware")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Middleware")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.middleware,expression:"localValue.middleware"}],staticClass:"dvs-w-1/2",attrs:{type:"text"},domProps:{value:e.localValue.middleware},on:{input:function(t){t.target.composing||e.$set(e.localValue,"middleware",t.target.value)}}})])]),a("div",{staticClass:"dvs-flex"},[a("button",{staticClass:"dvs-btn dvs-mr-2",style:e.theme.actionButton,on:{click:e.requestSavePage}},[e._v("Save")]),a("button",{staticClass:"dvs-btn dvs-mr-4",style:e.theme.actionButtonGhost,on:{click:e.goToPage}},[e._v("Cancel")])])])],2)]):e._e(),a("transition",{attrs:{name:"dvs-fade"}},[e.showCopy?a("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showCopy=!1}}},[a("h4",{staticClass:"dvs-mb-4"},[e._v("Copy this page")]),a("help",{staticClass:"dvs-mb-4"},[e._v("This will create a whole new page based on this page copying all settings and values associated with it.")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToCopy.title,expression:"pageToCopy.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.pageToCopy.title},on:{input:function(t){t.target.composing||e.$set(e.pageToCopy,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToCopy.slug,expression:"pageToCopy.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.pageToCopy.slug},on:{input:function(t){t.target.composing||e.$set(e.pageToCopy,"slug",t.target.value)}}})]),a("button",{staticClass:"dvs-btn",attrs:{disabled:null===e.pageToCopy.title||null===e.pageToCopy.slug},on:{click:e.requestCopyPage}},[e._v("Create")]),a("button",{staticClass:"dvs-btn",on:{click:function(t){e.showCopy=!1}}},[e._v("Cancel")])],1):e._e()],1),a("transition",{attrs:{name:"dvs-fade"}},[e.showTranslate?a("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showTranslate=!1}}},[a("h4",{staticClass:"dvs-mb-4"},[e._v("Translate this page")]),a("help",{staticClass:"dvs-mb-4"},[e._v("This will create a translated page associated with this page. While the pages are connected to allow users to switch between translations they do have their own settings and versions.")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToTranslate.title,expression:"pageToTranslate.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.pageToTranslate.title},on:{input:function(t){t.target.composing||e.$set(e.pageToTranslate,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Languages")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.translateLanguage,expression:"translateLanguage"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.translateLanguage=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}},[e._v("Please select a language")]),e._l(e.languages.data,function(t){return a("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.code))])})],2)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("div",{staticClass:"dvs-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.translateLanguage.code,expression:"translateLanguage.code"}],staticClass:"dvs-max-w-3xs",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.translateLanguage.code},on:{input:function(t){t.target.composing||e.$set(e.translateLanguage,"code",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToTranslate.slug,expression:"pageToTranslate.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.pageToTranslate.slug},on:{input:function(t){t.target.composing||e.$set(e.pageToTranslate,"slug",t.target.value)}}})])]),a("button",{staticClass:"dvs-btn",attrs:{disabled:null===e.pageToTranslate.title||null===e.pageToTranslate.slug||null===e.translateLanguage},on:{click:e.requestTranslatePage}},[e._v("Translate")]),a("button",{staticClass:"dvs-btn",on:{click:function(t){e.showTranslate=!1}}},[e._v("Cancel")])],1):e._e()],1)],1)},n=[],i=a("5176"),l=a.n(i),o=a("cebc"),r=a("7f65"),c=a("0315"),d=a("8372"),u={name:"PagesView",data:function(){return{analytics:{},analyticsDateRange:{start:null,end:null},localValue:{},modulesToLoad:2,showCopy:!1,showTranslate:!1,pageToCopy:{title:null,slug:null},translateLanguage:{},pageToTranslate:{title:null,slug:null,language_id:null},colors:[{background:"rgba(54, 162, 235, 0.5)",border:"rgba(54, 162, 235, 1)"},{background:"rgba(75, 192, 192, 0.2)",border:"rgba(75, 192, 192, 1)"},{background:"rgba(255, 206, 86, 0.2)",border:"rgba(255, 206, 86, 1)"},{background:"rgba(255, 99, 132, 0.2)",border:"rgba(255,99,132,1)"},{background:"rgba(153, 102, 255, 0.2)",border:"rgba(153, 102, 255, 1)"},{background:"rgba(255, 159, 64, 0.2)",border:"rgba(255, 159, 64, 1)"}]}},mounted:function(){this.retrievePage(),this.retrieveAllLanguages(),this.setDefaultAnalytics()},methods:Object(o["a"])({},Object(r["b"])("devise",["copyPage","copyPageVersion","deletePage","deletePageVersion","getPageAnalytics","getPage","getLanguages","translatePage","updatePage","updatePageVersion"]),{requestSavePage:function(){var e=this;this.updatePage({data:this.localValue}).then(function(){e.localValue.id===e.currentPage.id&&window.location.reload()})},requestCopyPage:function(){var e=this;this.copyPage({data:this.pageToCopy}).then(function(){e.pageToCopy.title=null,e.pageToCopy.slug=null,e.showCopy=!1})},requestTranslatePage:function(){var e=this;this.pageToTranslate.language_id=this.translateLanguage.id,this.pageToTranslate.slug="/".concat(this.translateLanguage.code).concat(this.pageToTranslate.slug),this.translatePage({page:this.localValue,data:this.pageToTranslate}).then(function(){e.pageToTranslate.title=null,e.pageToTranslate.slug=null,e.pageToTranslate.language_id=null,e.showTranslate=!1})},requestSaveVersion:function(e){this.updatePageVersion({page:this.localValue,version:e})},requestCopyVersion:function(e){this.copyPageVersion({page:this.localValue,version:e})},requestDeleteVersion:function(e){this.deletePageVersion({page:this.localValue,version:e})},requestCreateMeta:function(e){this.localValue.meta.push(e)},requestUpdateMeta:function(e){e.edit=!1},requestDeleteMeta:function(e){this.localValue.meta.splice(this.localValue.meta.indexOf(e),1)},requestDeletePage:function(){var e=this;this.deletePage(this.localValue).then(function(){e.goToPage("devise-pages-index")})},retrievePage:function(){var e=this;this.getPage(this.$route.params.pageId).then(function(t){e.localValue=l()({},e.localValue,t.data.page),e.localValue.versions.map(function(t){e.$set(t,"editName",!1)}),e.pageToTranslate.slug=e.localValue.slug,window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad),e.retrieveAnalytics()})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},setDefaultAnalytics:function(){var e=new Date,t=new Date;t.setDate(t.getDate()-7),this.analyticsDateRange.end=this.formatDate(e),this.analyticsDateRange.start=this.formatDate(t)},retrieveAnalytics:function(){var e=this;this.mothershipApiKey&&("string"!==typeof this.analyticsDateRange.start&&this.analyticsDateRange.start[0]&&(this.analyticsDateRange.start=this.formatDate(new Date(this.analyticsDateRange.start[0]))),"string"!==typeof this.analyticsDateRange.end&&this.analyticsDateRange.end[0]&&(this.analyticsDateRange.end=this.formatDate(new Date(this.analyticsDateRange.end[0]))),this.getPageAnalytics({slug:this.localValue.slug,dates:e.analyticsDateRange}).then(function(t){t.data.data.datasets.map(function(t,a){return t.backgroundColor=[e.colors[a].background],t.fontColor=e.theme.panel.color,t.borderColor=[e.colors[a].border],t.pointRadius=4,t.pointHoverRadius=10,t.fill=!1,t}),e.$set(e,"analytics",t.data)}))},toggleVersionSettings:function(e){this.$set(e,"showSettings",!e.showSettings)}}),computed:Object(o["a"])({},Object(r["c"])("devise",["languages","mothershipApiKey"]),Object(r["d"])("devise",["layouts"]),{options:function(){return{width:"8000px",legend:{labels:{fontColor:this.theme.panel.color,fontSize:14}},scales:{yAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}],xAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}]}}}}),components:{DatePicker:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"7b28"))},DeviseModal:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"308a"))},TrashIcon:function(){return a.e("devise-icons").then(a.bind(null,"da64"))},CopyIcon:function(){return a.e("devise-icons").then(a.bind(null,"bb4a"))},EditIcon:function(){return a.e("devise-icons").then(a.bind(null,"b948"))},CheckmarkIcon:function(){return a.e("devise-icons").then(a.bind(null,"48d5"))},LineChart:function(){return a.e("devise-charts").then(a.bind(null,"8038"))},MetaForm:function(){return a.e("devise-meta").then(a.bind(null,"86d3"))}},mixins:[d["a"],c["a"]]},g=u,v=a("0c7c"),h=Object(v["a"])(g,s,n,!1,null,null,null);t["default"]=h.exports},2941:function(e,t,a){"use strict";const s=60,n=60*s,i=24*n,l=7*i,o=1e3,r=s*o,c=n*o,d=i*o,u=l*o,g="millisecond",v="second",h="minute",p="hour",m="day",f="week",b="month",y="quarter",_="year",w="date",P="YYYY-MM-DDTHH:mm:ssZ",C="Invalid Date",$=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,T=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},S=(e,t,a)=>{const s=String(e);return!s||s.length>=t?e:`${Array(t+1-s.length).join(a)}${e}`},V=e=>{const t=Math.abs(e),a=Math.floor(t/60),s=t%60;return`${e<=0?"+":"-"}${S(a,2,"0")}:${S(s,2,"0")}`},D=(e,t)=>{const a=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(a,"months"),n=t-s<0,i=e.clone().add(a+(n?-1:1),"months");return Number(-(a+(t-s)/(n?s-i:i-s))||0)},k=e=>e<0?Math.ceil(e)||0:Math.floor(e),A=e=>{const t={M:b,y:_,w:f,d:m,h:p,m:h,s:v,ms:g};return t[e]||String(e||"").toLowerCase().replace(/s$/,"")},M=e=>void 0===e;var O={padStart:S,padZoneStr:V,monthDiff:D,absFloor:k,prettyUnit:A,isUndefined:M};let L="en";const N={};N[L]=x;const j=e=>e instanceof E,q=(e,t,a)=>{let s;if(!e)return null;if("string"===typeof e)N[e]&&(s=e),t&&(N[e]=t,s=e);else{const{name:t}=e;N[t]=e,s=t}return a||(L=s),s},H=(e,t)=>{if(j(e))return e.clone();const a=t?"string"===typeof t?{format:t}:t:{};return a.date=e,new E(a)},B=(e,t)=>H(e,{locale:t.$L}),R=O;R.parseLocale=q,R.isDayjs=j,R.wrapper=B;const I=e=>{let t;return null===e?new Date(NaN):R.isUndefined(e)?new Date:e instanceof Date?e:"string"===typeof e&&/.*[^Z]$/i.test(e)&&(t=e.match($))?new Date(t[1],t[2]-1,t[3]||1,t[4]||0,t[5]||0,t[6]||0,t[7]||0):new Date(e)};class E{constructor(e){this.parse(e)}parse(e){this.$d=I(e.date),this.init(e)}init(e){const{$d:t}=this;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds(),this.$L=this.$L||q(e.locale,null,!0)||L}$utils(){return R}isValid(){return!(this.$d.toString()===C)}isSame(e,t){const a=H(e);return this.startOf(t)<=a&&a<=this.endOf(t)}isAfter(e,t){return H(e)<this.startOf(t)}isBefore(e,t){return this.endOf(t)<H(e)}year(){return this.$y}month(){return this.$M}day(){return this.$W}date(){return this.$D}hour(){return this.$H}minute(){return this.$m}second(){return this.$s}millisecond(){return this.$ms}unix(){return Math.floor(this.valueOf()/1e3)}valueOf(){return this.$d.getTime()}startOf(e,t){const a=!!R.isUndefined(t)||t,s=R.prettyUnit(e),n=(e,t)=>{const s=B(new Date(this.$y,t,e),this);return a?s:s.endOf(m)},i=(e,t)=>{const s=[0,0,0,0],n=[23,59,59,999];return B(this.toDate()[e].apply(this.toDate(),(a?s:n).slice(t)),this)};switch(s){case _:return a?n(1,0):n(31,11);case b:return a?n(1,this.$M):n(0,this.$M+1);case f:{const e=this.$locale().weekStart||0;return n(a?this.$D-(this.$W-e):this.$D+(6-(this.$W-e)),this.$M)}case m:case w:return i("setHours",0);case p:return i("setMinutes",1);case h:return i("setSeconds",2);case v:return i("setMilliseconds",3);default:return this.clone()}}endOf(e){return this.startOf(e,!1)}$set(e,t){const a=R.prettyUnit(e),s={[m]:"setDate",[w]:"setDate",[b]:"setMonth",[_]:"setFullYear",[p]:"setHours",[h]:"setMinutes",[v]:"setSeconds",[g]:"setMilliseconds"}[a],n=a===m?this.$D+(t-this.$W):t;return this.$d[s]&&this.$d[s](n),this.init(),this}set(e,t){return this.clone().$set(e,t)}add(e,t){e=Number(e);const a=R.prettyUnit(t),s=(t,a)=>{const s=this.set(w,1).set(t,a+e);return s.set(w,Math.min(this.$D,s.daysInMonth()))},n=t=>{const a=new Date(this.$d);return a.setDate(a.getDate()+t*e),B(a,this)};if(a===b)return s(b,this.$M);if(a===_)return s(_,this.$y);if(a===m)return n(1);if(a===f)return n(7);const i={[h]:r,[p]:c,[v]:o}[a]||1,l=this.valueOf()+e*i;return B(l,this)}subtract(e,t){return this.add(-1*e,t)}format(e){if(!this.isValid())return C;const t=e||P,a=R.padZoneStr(this.$d.getTimezoneOffset()),s=this.$locale(),{weekdays:n,months:i}=s,l=(e,t,a,s)=>e&&e[t]||a[t].substr(0,s),o=e=>{return 0===this.$H?12:R.padStart(this.$H<13?this.$H:this.$H-12,"hh"===e?2:1,"0")},r={YY:String(this.$y).slice(-2),YYYY:String(this.$y),M:String(this.$M+1),MM:R.padStart(this.$M+1,2,"0"),MMM:l(s.monthsShort,this.$M,i,3),MMMM:i[this.$M],D:String(this.$D),DD:R.padStart(this.$D,2,"0"),d:String(this.$W),dd:l(s.weekdaysMin,this.$W,n,2),ddd:l(s.weekdaysShort,this.$W,n,3),dddd:n[this.$W],H:String(this.$H),HH:R.padStart(this.$H,2,"0"),h:o("h"),hh:o("hh"),a:this.$H<12?"am":"pm",A:this.$H<12?"AM":"PM",m:String(this.$m),mm:R.padStart(this.$m,2,"0"),s:String(this.$s),ss:R.padStart(this.$s,2,"0"),SSS:R.padStart(this.$ms,3,"0"),Z:a};return t.replace(T,e=>{return e.indexOf("[")>-1?e.replace(/\[|\]/g,""):r[e]||a.replace(":","")})}utcOffset(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)}diff(e,t,a){const s=R.prettyUnit(t),n=H(e),i=(n.utcOffset()-this.utcOffset())*r,l=this-n;let g=R.monthDiff(this,n);return g={[_]:g/12,[b]:g,[y]:g/3,[f]:(l-i)/u,[m]:(l-i)/d,[p]:l/c,[h]:l/r,[v]:l/o}[s]||l,a?g:R.absFloor(g)}daysInMonth(){return this.endOf(b).$D}$locale(){return N[this.$L]}locale(e,t){const a=this.clone();return a.$L=q(e,t,!0),a}clone(){return B(this.toDate(),this)}toDate(){return new Date(this.$d)}toArray(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]}toJSON(){return this.toISOString()}toISOString(){return this.$d.toISOString()}toObject(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}}toString(){return this.$d.toUTCString()}}H.prototype=E.prototype,H.extend=((e,t)=>{return e(t,E,H),H}),H.locale=q,H.isDayjs=j,H.unix=(e=>H(1e3*e)),H.en=N[L];t["a"]=H},8028:function(e,t,a){const s=a("0a6b");function n(e,t){t.value!==t.oldValue&&(e.oninput=n.debounce(function(t){e.dispatchEvent(i("change"))},parseInt(t.value)||800))}function i(e){if("function"===typeof Event)var t=new Event(e);else{t=document.createEvent("Event");t.initEvent(e,!0,!0)}return t}n.debounce=s,e.exports=n},8372:function(e,t,a){"use strict";var s=a("2941");t["a"]={methods:{formatDate:function(e){return Object(s["a"])(e).format("YYYY-MM-DD")}}}},9614:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"dvs-flex",attrs:{id:"devise-admin-content"}},[a("action-bar",[a("li",{staticClass:"dvs-btn dvs-btn-sm dvs-mb-2",style:e.theme.actionButton,on:{click:function(t){return e.goToPage("devise-pages-create")}}},[e._v("Create New Page")])]),a("div",{staticClass:"dvs-w-2/5 dvs-border-r dvs--my-10 dvs--ml-10 dvs-mr-8 dvs-p-8",style:{borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background}},[a("button",{staticClass:"dvs-btn dvs-btn-zero dvs-btn-text dvs-mb-8",style:{color:e.theme.actionButtonGhost.color},on:{click:e.historyBack}},[e._v("Back")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Search Pages")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.searchTerm,expression:"searchTerm",modifiers:{lazy:!0}},{name:"debounce",rawName:"v-debounce",value:e.searchDelay,expression:"searchDelay"}],staticClass:"dvs-mb-4",attrs:{type:"text"},domProps:{value:e.searchTerm},on:{change:function(t){e.searchTerm=t.target.value}}}),a("div",{staticClass:"dvs-relative"},[a("ul",{staticClass:"dvs-list-reset dvs-bg-white dvs-text-black dvs-absolute dvs-shadow-lg"},e._l(e.autosuggest.data,function(t,s){return a("li",{key:s,staticClass:"dvs-border-b dvs-border-grey-lighter dvs-p-4 dvs-cursor-pointer dvs-text-sm hover:dvs-bg-grey-lighter",on:{click:function(t){return e.loadPage(s)}}},[e._v(e._s(t))])}),0)])]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Current Language")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.language_id,expression:"filters.language_id"}],staticClass:"dvs-mb-4",attrs:{type:"text"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters,"language_id",t.target.multiple?a:a[0])},function(t){return e.retrieveAllPages(!1)}]}},e._l(e.languages.data,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.code)+"\n          ")])}),0)])]),a("div",{style:{color:e.theme.panel.color}},[a("h2",{staticClass:"dvs-mb-10",style:{color:e.theme.panel.color}},[e._v("Current Site Pages")]),e._l(e.pages.data,function(t){return a("div",{key:t.id,staticClass:"dvs-mb-6 dvs-flex dvs-justify-between dvs-items-center"},[a("div",{staticClass:"dvs-font-light dvs-pr-8 dvs-w-2/5"},[e._v(e._s(t.title))]),a("div",{staticClass:"dvs-text-xs dvs-px-8 dvs-font-mono dvs-w-2/5"},[e._v(e._s(t.slug))]),a("div",{staticClass:"dvs-px-8 dvs-flex dvs-justify-end dvs-w-1/5"},[a("button",{staticClass:"dvs-btn dvs-btn-xs dvs-mr-2",style:e.theme.actionButtonGhost,on:{click:function(a){return e.loadPage(t.id)}}},[e._v("Manage")]),a("a",{staticClass:"dvs-btn dvs-btn-xs",style:e.theme.actionButtonGhost,attrs:{href:e.getSlug(t)}},[e._v("Go")])])])}),e.pages.data&&e.pages.data.length?a("pagination",{staticClass:"mb-8",attrs:{meta:e.pages.meta},on:{changePage:e.changePage}}):e._e()],2)],1)])},n=[],i=a("5176"),l=a.n(i),o=a("cebc"),r=a("8028"),c=a.n(r),d=a("7f65"),u=a("0315"),g={name:"PagesIndex",data:function(){return{modulesToLoad:2,filters:{page:"1",language_id:"1"},showCreate:!1,searchDelay:1e3,searchTerm:"",autosuggest:{data:[]},newPage:{layout:null,language_id:null,translated_from_page_id:0,title:null,slug:null,canonical:null,head:null,footer:null,middleware:"web",published:!1,copy_page:!1,copy_page_id:0,copy_page_title:"Search Page"}}},mounted:function(){this.retrieveAllPages(),this.retrieveAllLanguages()},methods:Object(o["a"])({},Object(d["b"])("devise",["getPages","searchPages","getLanguages","createPage"]),{requestCreatePage:function(){var e=this;this.createPage(this.newPage).then(function(){e.newPage.template_id=null,e.newPage.language_id=null,e.newPage.title=null,e.newPage.slug=null,e.newPage.published=!1,e.showCreate=!1})},retrieveAllPages:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getPages(this.filters).then(function(){t&&window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},loadPage:function(e){this.$router.push({name:"devise-pages-view",params:{pageId:e}})},requestSearch:function(e){var t=this;""!==e?this.searchPages(e).then(function(a){t.autosuggest=a,a.data.length<1&&window.deviseSettings.$bus.$emit("showMessage",{title:"No Suggestions Found",message:"We couldn't find any pages with the term: \"".concat(e,'".')})}):this.autosuggest=l()({},{})},changePage:function(e){this.filters.page=e,this.retrieveAllPages(!1)},getSlug:function(e){return e.is_live?e.slug:!!e.versions&&"".concat(e.slug,"?version_id=").concat(e.versions[0].id)}}),watch:{searchTerm:function(e){this.requestSearch(e)}},computed:Object(o["a"])({},Object(d["c"])("devise",["pages","languages"]),{createInvalid:function(){return null===this.newPage.title||null===this.newPage.layout&&!this.newPage.copy_page&&0===this.newPage.copy_page_id||null===this.newPage.language_id||null===this.newPage.slug}}),components:{ActionBar:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"1906"))},Pagination:function(){return a.e("devise-tables").then(a.bind(null,"a783"))}},directives:{debounce:c.a},mixins:[u["a"]]},v=g,h=a("0c7c"),p=Object(h["a"])(v,s,n,!1,null,null,null);t["default"]=p.exports},9868:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.analytics?a("panel",{staticClass:"dvs-fixed dvs-pin-b dvs-pin-r dvs-z-30 dvs-mr-8 dvs-mb-8 dvs-p-4 dvs-pb-0",attrs:{id:"devise-in-page-analytics","panel-style":e.theme.panel}},[e.anlyticsHasData?a("div",{staticClass:"dvs-flex dvs-p-4"},[a("div",{staticClass:"dvs-flex dvs-flex-wrap dvs-justify-around dvs-w-full"},[a("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Sessions"}}),a("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Page Views"}}),a("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Bounce Rate"}}),a("stat-block-doughnut",{attrs:{analytics:this.analytics,stat:"Time On Page"}})],1)]):a("div",{staticClass:"dvs-p-8 dvs-pt-4 dvs-text-center"},[e._v("It appears there is not enough data in Google Analytics yet to present statistics. There needs to be at least one week of data and then we will start showing you how this page is performing!")])]):e._e()},n=[],i=a("cebc"),l=a("7f65"),o=a("8372"),r={data:function(){return{analytics:null,minimized:!1}},mounted:function(){this.retrieveAnalytics()},methods:Object(i["a"])({},Object(l["b"])("devise",["getPageAnalyticsTotals"]),{retrieveAnalytics:function(){var e=this;if(this.mothershipApiKey){var t=new Date;t.setDate(t.getDate()-1),this.getPageAnalyticsTotals({slug:this.currentPage.slug,date:this.formatDate(t)}).then(function(t){e.$set(e,"analytics",t.data)})}}}),computed:Object(i["a"])({},Object(l["c"])("devise",["mothershipApiKey","currentPage"]),{anlyticsHasData:function(){for(var e in this.analytics)if(null===this.analytics[e])return!1;return!0}}),components:{Panel:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"9e7c"))},StatBlockDoughnut:function(){return a.e("devise-charts").then(a.bind(null,"8639"))}},mixins:[o["a"]]},c=r,d=a("0c7c"),u=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},c769:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"devise-admin-content"}},[a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Create new page")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.title,expression:"newPage.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.newPage.title},on:{input:function(t){t.target.composing||e.$set(e.newPage,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Copy Look of existing page")]),a("div",{staticClass:"dvs-flex dvs-mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.copy_page,expression:"newPage.copy_page"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newPage.copy_page)?e._i(e.newPage.copy_page,null)>-1:e.newPage.copy_page},on:{change:function(t){var a=e.newPage.copy_page,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&e.$set(e.newPage,"copy_page",a.concat([i])):l>-1&&e.$set(e.newPage,"copy_page",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.newPage,"copy_page",n)}}})]),e.newPage.copy_page?a("div",[a("page-search",{attrs:{placeholder:e.newPage.copy_page_title},on:{selected:e.setCopyPage}}),a("help",{staticClass:"dvs-mt-4"},[a("p",[e._v("Will copy layout, slices, and field values from selected page.")])])],1):e._e()]),e.newPage.copy_page?e._e():a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Layout")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newPage.layout,expression:"newPage.layout"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newPage,"layout",t.target.multiple?a:a[0])}}},e._l(e.layouts,function(t,s){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(s))])}),0)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Language")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newPage.language_id,expression:"newPage.language_id"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newPage,"language_id",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[e._v("Please select a language")]),e._l(e.languages.data,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.code)+"\n        ")])})],2)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("div",{staticClass:"dvs-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.slug,expression:"newPage.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.newPage.slug},on:{input:function(t){t.target.composing||e.$set(e.newPage,"slug",t.target.value)}}})])]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Published?")]),a("div",{staticClass:"dvs-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.published,expression:"newPage.published"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newPage.published)?e._i(e.newPage.published,null)>-1:e.newPage.published},on:{change:function(t){var a=e.newPage.published,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&e.$set(e.newPage,"published",a.concat([i])):l>-1&&e.$set(e.newPage,"published",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.newPage,"published",n)}}})])]),a("button",{staticClass:"dvs-btn",style:e.theme.actionButton,attrs:{disabled:e.createInvalid},on:{click:e.requestCreatePage}},[e._v("Create")]),a("button",{staticClass:"dvs-btn",style:e.theme.actionButtonGhost,on:{click:function(t){e.showCreate=!1}}},[e._v("Cancel")])])])},n=[],i=a("cebc"),l=a("8028"),o=a.n(l),r=a("7f65"),c={name:"PagesCreate",data:function(){return{newPage:{layout:"",language_id:null,translated_from_page_id:0,title:null,slug:null,canonical:null,head:null,footer:null,middleware:"web",published:!1,copy_page:!1,copy_page_id:0,copy_page_title:"Search Page"}}},mounted:function(){window.deviseSettings.$page.site.settings.hasOwnProperty("defaultLayout")&&(this.newPage.layout=window.deviseSettings.$page.site.settings.defaultLayout)},methods:Object(i["a"])({},Object(r["b"])("devise",["getPages","searchPages","getLanguages","createPage"]),{requestCreatePage:function(){var e=this;this.createPage(this.newPage).then(function(){window.location.href=e.newPage.slug})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},setCopyPage:function(e){this.newPage.copy_page_id=e.id,this.newPage.copy_page_title=e.title},loadPage:function(e){this.$router.push({name:"devise-pages-view",params:{pageId:e}})}}),computed:Object(i["a"])({},Object(r["c"])("devise",["languages"]),{createInvalid:function(){return null===this.newPage.title||null===this.newPage.layout&&!this.newPage.copy_page&&0===this.newPage.copy_page_id||null===this.newPage.language_id||null===this.newPage.slug},layouts:function(){return window.deviseSettings.$config.layouts}}),components:{PageSearch:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"d196"))}},directives:{debounce:o.a}},d=c,u=a("0c7c"),g=Object(u["a"])(d,s,n,!1,null,null,null);t["default"]=g.exports},d8b8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dvs-p-8"},[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editPage.title,expression:"editPage.title"}],staticClass:"dvs-small",attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.editPage.title},on:{input:function(t){t.target.composing||e.$set(e.editPage,"title",t.target.value)}}})]),a("button",{staticClass:"dvs-btn dvs-block dvs-w-full dvs-mb-2",style:e.theme.actionButton,on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e._v("Save Page")]),a("router-link",{staticClass:"dvs-btn dvs-block",style:e.theme.actionButtonGhost,attrs:{to:{name:"devise-pages-view",params:{pageId:e.page.id}}}},[e._v("All Settings")])],1)},n=[],i=a("cebc"),l=a("7f65"),o={name:"PageSettings",data:function(){return{pageSlices:[],pageSettingsOpen:!1,pageContentOpen:!0}},mounted:function(){this.pageSlices=this.page.slices},methods:Object(i["a"])({},Object(l["b"])("devise",["savePage"]),{requestSavePage:function(){this.savePage(this.page)},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.pageSlices.map(function(e){return t.closeSlice(e)}),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)}}),computed:Object(i["a"])({},Object(l["c"])("devise",["sliceConfig","fieldConfig"]),{editPage:{get:function(){return this.page},set:function(e){this.$emit("updatePage",e)}}}),props:["page"]},r=o,c=a("0c7c"),d=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=devise-pages.js.map